\section{Sensor}
Sensoren som bliver beskrevet i hardware afsnittet skal kommunikere med arduino boardet. Dette kræver nogle trin som kan findes i databladet til sensoren. På figur \ref{sensor_kom} ses et overblik over funktioner vi har lavet, som skal til for at aflæse sensoren. Disse funktioner er konstrueret ved at anvende databladet hvor det er beskrevet at der i bund og grund skal 3 trin til for at aflæse sensoren.



\begin{figure}[h!]
  \centering
  \includegraphics[width=0.8\textwidth]{figures/ds18b20_sensor_communication.png}
  \caption{Kommunikation med sensor.}
  \label{sensor_kom}
\end{figure}
\fxnote{ret størrelse til på alle billeder(noget der skal gøres til sidst!)}

\newpage
\subsection{Initialize}
Initialisering af sensoren gøres ved at sætte 1-wire forbindelsen til sensorsen til low i et specifikt stykke tid.

\begin{figure}[h!]
  \centering
  \includegraphics[width=0.5\textwidth]{figures/Initialization_timing.png}
  \caption{Fra datablad om hvordan sensor skal initialiseres.}
  \label{sensor_kom}
\end{figure}

Fra databladet ses det at 1-wire forbindelsen skal have en reset pulse i minimum 480$\mu$S og en presence pulse i 60 til 240$\mu$S. Dette gøres ved at sende et low signal som reset pulse og derefter sætte forbindelsen i tri-state og pull-up modstanden trækker den høj. 

I koden gøres dette ved at bruge digitalWrite til low i kombination med et delay på 500$\mu$S. Derefter sættes pinMode til input og et delay på 500$\mu$S anvendes igen. Dette kan ses på figur \ref{sensor_kode}.

\begin{figure}[h!]
  \centering
  \includegraphics[width=1\textwidth]{figures/Init.png}
  \caption{Initialisering kode.}
  \label{sensor_kode}
\end{figure}